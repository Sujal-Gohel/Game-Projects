[gd_scene load_steps=59 format=3 uid="uid://c7wpweohr6enw"]

[ext_resource type="Script" uid="uid://cp22yelkmostd" path="res://Scripts/Enemy/enemy.gd" id="1_mw074"]
[ext_resource type="Texture2D" uid="uid://llvbwlaxsg4j" path="res://Assets/Enemy/Golem/Golem_1_attack.png" id="2_gx76c"]
[ext_resource type="Texture2D" uid="uid://dvvaix8sh6mcl" path="res://Assets/Enemy/Golem/Golem_1_hurt.png" id="3_pqgp3"]
[ext_resource type="Texture2D" uid="uid://bijew30gtkdod" path="res://Assets/Enemy/Golem/Golem_1_die.png" id="4_4ad2a"]
[ext_resource type="Texture2D" uid="uid://fob5dlvbx53n" path="res://Assets/Enemy/Golem/Golem_1_idle.png" id="5_kiqm3"]
[ext_resource type="Texture2D" uid="uid://64deno1g0slf" path="res://Assets/Enemy/Golem/Golem_1_walk.png" id="6_6j3ko"]

[sub_resource type="AtlasTexture" id="AtlasTexture_2chwy"]
atlas = ExtResource("2_gx76c")
region = Rect2(0, 0, 90, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_beese"]
atlas = ExtResource("2_gx76c")
region = Rect2(90, 0, 90, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_1vi6b"]
atlas = ExtResource("2_gx76c")
region = Rect2(180, 0, 90, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_r1w2j"]
atlas = ExtResource("2_gx76c")
region = Rect2(270, 0, 90, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_u4wq1"]
atlas = ExtResource("2_gx76c")
region = Rect2(360, 0, 90, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_5luce"]
atlas = ExtResource("2_gx76c")
region = Rect2(450, 0, 90, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_xmc1t"]
atlas = ExtResource("2_gx76c")
region = Rect2(540, 0, 90, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_d2jnu"]
atlas = ExtResource("2_gx76c")
region = Rect2(630, 0, 90, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_x4yp7"]
atlas = ExtResource("2_gx76c")
region = Rect2(720, 0, 90, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_tqvt7"]
atlas = ExtResource("2_gx76c")
region = Rect2(810, 0, 90, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_ijynf"]
atlas = ExtResource("2_gx76c")
region = Rect2(900, 0, 90, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_tj3on"]
atlas = ExtResource("3_pqgp3")
region = Rect2(0, 0, 90, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_gtqxs"]
atlas = ExtResource("3_pqgp3")
region = Rect2(90, 0, 90, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_x18n6"]
atlas = ExtResource("3_pqgp3")
region = Rect2(180, 0, 90, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_f3l8n"]
atlas = ExtResource("3_pqgp3")
region = Rect2(270, 0, 90, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_5rl8s"]
atlas = ExtResource("4_4ad2a")
region = Rect2(0, 0, 90, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_g6g8b"]
atlas = ExtResource("4_4ad2a")
region = Rect2(90, 0, 90, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_3nhpm"]
atlas = ExtResource("4_4ad2a")
region = Rect2(180, 0, 90, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_myvan"]
atlas = ExtResource("4_4ad2a")
region = Rect2(270, 0, 90, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_2u43t"]
atlas = ExtResource("4_4ad2a")
region = Rect2(360, 0, 90, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_fjqqt"]
atlas = ExtResource("4_4ad2a")
region = Rect2(450, 0, 90, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_rac3i"]
atlas = ExtResource("4_4ad2a")
region = Rect2(540, 0, 90, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_ifrnt"]
atlas = ExtResource("4_4ad2a")
region = Rect2(630, 0, 90, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_7ln3t"]
atlas = ExtResource("4_4ad2a")
region = Rect2(720, 0, 90, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_8kmt2"]
atlas = ExtResource("4_4ad2a")
region = Rect2(810, 0, 90, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_ss2dq"]
atlas = ExtResource("4_4ad2a")
region = Rect2(900, 0, 90, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_h48s5"]
atlas = ExtResource("4_4ad2a")
region = Rect2(990, 0, 90, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_k0qr5"]
atlas = ExtResource("4_4ad2a")
region = Rect2(1080, 0, 90, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_afa01"]
atlas = ExtResource("5_kiqm3")
region = Rect2(0, 0, 90, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_ivpvb"]
atlas = ExtResource("5_kiqm3")
region = Rect2(90, 0, 90, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_psgxv"]
atlas = ExtResource("5_kiqm3")
region = Rect2(180, 0, 90, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_phhfh"]
atlas = ExtResource("5_kiqm3")
region = Rect2(270, 0, 90, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_306ve"]
atlas = ExtResource("5_kiqm3")
region = Rect2(360, 0, 90, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_jgfhy"]
atlas = ExtResource("5_kiqm3")
region = Rect2(450, 0, 90, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_ee3hu"]
atlas = ExtResource("5_kiqm3")
region = Rect2(540, 0, 90, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_0prq8"]
atlas = ExtResource("5_kiqm3")
region = Rect2(630, 0, 90, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_r32c4"]
atlas = ExtResource("6_6j3ko")
region = Rect2(0, 0, 90, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_ecm5i"]
atlas = ExtResource("6_6j3ko")
region = Rect2(90, 0, 90, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_di2pg"]
atlas = ExtResource("6_6j3ko")
region = Rect2(180, 0, 90, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_rfkcq"]
atlas = ExtResource("6_6j3ko")
region = Rect2(270, 0, 90, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_ef7tc"]
atlas = ExtResource("6_6j3ko")
region = Rect2(360, 0, 90, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_qudq3"]
atlas = ExtResource("6_6j3ko")
region = Rect2(450, 0, 90, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_7a374"]
atlas = ExtResource("6_6j3ko")
region = Rect2(540, 0, 90, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_g8ggl"]
atlas = ExtResource("6_6j3ko")
region = Rect2(630, 0, 90, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_nte12"]
atlas = ExtResource("6_6j3ko")
region = Rect2(720, 0, 90, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_5srat"]
atlas = ExtResource("6_6j3ko")
region = Rect2(810, 0, 90, 64)

[sub_resource type="SpriteFrames" id="SpriteFrames_m7dqh"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_2chwy")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_beese")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_1vi6b")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_r1w2j")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_u4wq1")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_5luce")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_xmc1t")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_d2jnu")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_x4yp7")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_tqvt7")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ijynf")
}],
"loop": false,
"name": &"attack",
"speed": 12.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_tj3on")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_gtqxs")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_x18n6")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_f3l8n")
}],
"loop": false,
"name": &"damage",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_5rl8s")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_g6g8b")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_3nhpm")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_myvan")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_2u43t")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_fjqqt")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_rac3i")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ifrnt")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_7ln3t")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_8kmt2")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ss2dq")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_h48s5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_k0qr5")
}],
"loop": false,
"name": &"die",
"speed": 12.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_afa01")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ivpvb")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_psgxv")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_phhfh")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_306ve")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_jgfhy")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ee3hu")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_0prq8")
}],
"loop": true,
"name": &"idle",
"speed": 12.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_r32c4")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ecm5i")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_di2pg")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_rfkcq")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ef7tc")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_qudq3")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_7a374")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_g8ggl")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_nte12")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_5srat")
}],
"loop": true,
"name": &"walk",
"speed": 12.0
}]

[sub_resource type="CircleShape2D" id="CircleShape2D_gx76c"]
radius = 12.51

[sub_resource type="RectangleShape2D" id="RectangleShape2D_gx76c"]
size = Vector2(60, 120)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_pqgp3"]
size = Vector2(60, 120)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_4ad2a"]
size = Vector2(60, 60)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_kiqm3"]
size = Vector2(60, 60)

[node name="Enemy" type="CharacterBody2D"]
scale = Vector2(0.8, 0.8)
collision_layer = 2
collision_mask = 5
script = ExtResource("1_mw074")

[node name="Timer" type="Timer" parent="."]
autostart = true

[node name="AttackCooldown" type="Timer" parent="."]
wait_time = 5.0
one_shot = true

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
position = Vector2(0, -32)
sprite_frames = SubResource("SpriteFrames_m7dqh")
animation = &"attack"
autoplay = "idle"
frame = 10
frame_progress = 1.0

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(0, -15)
shape = SubResource("CircleShape2D_gx76c")

[node name="LeftPlayerDetection" type="Area2D" parent="."]

[node name="LeftDetection" type="CollisionShape2D" parent="LeftPlayerDetection"]
position = Vector2(-90, -30)
rotation = 1.5708
shape = SubResource("RectangleShape2D_gx76c")
debug_color = Color(1, 0, 0, 0.419608)

[node name="RightPlayerDetection" type="Area2D" parent="."]

[node name="RightDetection" type="CollisionShape2D" parent="RightPlayerDetection"]
position = Vector2(90, -30)
rotation = 1.5708
shape = SubResource("RectangleShape2D_pqgp3")
debug_color = Color(1, 0, 0, 0.419608)

[node name="hurtbox" type="Area2D" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="hurtbox"]
position = Vector2(0, -30)
rotation = 1.5708
shape = SubResource("RectangleShape2D_4ad2a")
debug_color = Color(0, 1, 0, 0.419608)

[node name="hitbox" type="Area2D" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="hitbox"]
position = Vector2(0, -30)
rotation = 1.5708
shape = SubResource("RectangleShape2D_kiqm3")
debug_color = Color(0, 1, 0, 0.419608)

[connection signal="timeout" from="Timer" to="." method="_on_timer_timeout"]
[connection signal="timeout" from="AttackCooldown" to="." method="_on_attack_cooldown_timeout"]
[connection signal="body_entered" from="LeftPlayerDetection" to="." method="left_player_detection_body_entered"]
[connection signal="body_exited" from="LeftPlayerDetection" to="." method="left_player_detection_body_exited"]
[connection signal="body_entered" from="RightPlayerDetection" to="." method="right_player_detection_body_entered"]
[connection signal="body_exited" from="RightPlayerDetection" to="." method="right_player_detection_body_exited"]
[connection signal="body_entered" from="hurtbox" to="." method="_on_hurtbox_body_entered"]
[connection signal="body_exited" from="hurtbox" to="." method="_on_hurtbox_body_exited"]
[connection signal="body_entered" from="hitbox" to="." method="_on_hitbox_body_entered"]
[connection signal="body_exited" from="hitbox" to="." method="_on_hitbox_body_exited"]
